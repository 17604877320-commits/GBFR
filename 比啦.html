<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GBFR 因子配装对比 - @立夏</title>
    <style>
        :root { --gold: #d4af37; --brown: #5d4037; --coffee: #eaddca; --bg: #fdfaf5; }
        body { font-family: sans-serif; background: var(--coffee); margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        .main-layout { display: flex; gap: 15px; width: 100%; max-width: 1000px; align-items: flex-start; }
        
        /* 左侧：推荐属性清单 */
        .target-list { flex: 1; background: var(--brown); color: #fff; padding: 15px; border-radius: 12px; position: sticky; top: 10px; }
        .target-item { display: flex; justify-content: space-between; padding: 4px 0; font-size: 13px; border-bottom: 1px solid rgba(255,255,255,0.1); }
        .target-item.met { color: var(--gold); text-decoration: line-through; opacity: 0.6; }

        /* 右侧：因子槽位配置 */
        .slot-section { flex: 2; background: var(--bg); padding: 15px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .slot-box { border: 1px solid #ddd; padding: 10px; border-radius: 8px; margin-bottom: 10px; background: #fff; }
        .slot-title { font-weight: bold; font-size: 14px; margin-bottom: 8px; color: var(--brown); }
        .select-group { display: flex; gap: 8px; }
        select { flex: 1; padding: 8px; border-radius: 5px; border: 1px solid #ccc; font-size: 13px; }

        .header { text-align: center; width: 100%; margin-bottom: 15px; }
        button { margin-top: 15px; width: 100%; padding: 12px; background: var(--brown); color: var(--gold); border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }
        
        @media (max-width: 600px) { .main-layout { flex-direction: column; } .target-list { position: static; width: 100%; box-sizing: border-box; } }
    </style>
</head>
<body>
    <div class="header">
        <h2 style="margin:0; color:var(--brown);">泽塔因子配装对照</h2>
        <div style="font-size:12px; margin-top:5px;">[祝福：20昏厥 / 15追击 / 10怒涛]</div>
    </div>

    <div class="main-layout">
        <div class="target-list">
            <h4 style="margin:0 0 10px 0; border-bottom:1px solid var(--gold)">目标属性 (24)</h4>
            <div id="targetDisplay"></div>
        </div>

        <div class="slot-section">
            <div id="slotContainer"></div>
            <button onclick="resetAll()">清空全部配装</button>
        </div>
    </div>

    <footer style="margin-top:20px; opacity:0.5; font-size:12px;">Author: @立夏</footer>

    <script>
        // 1. 定义推荐的 24 个属性 (来自你的截图)
        const recommendedAttrs = [
            "热血", "暴君", "属转", "激昂", "狂战士", "药水", "追击", "追击", 
            "奋不顾身", "明镜止水", "躲避性能", "自动复活", "烈焰", "翔舞", 
            "战气", "迅捷", "秘纹α", "伤害上限", "秘纹α", "伤害上限", 
            "秘纹γ", "伤害上限", "秘纹γ", "伤害上限"
        ];

        // 2. 所有可选的属性池 (为了简化，这里列出核心词条)
        const attrPool = ["空缺", ...new Set(recommendedAttrs), "豪胆", "回避距离", "高扬", "守护"];

        // 3. 初始状态：12个因子，每个因子有主/副
        let currentSlots = Array.from({length: 12}, () => ({ main: "空缺", sub: "空缺" }));

        function render() {
            // 渲染左侧目标
            const targetDiv = document.getElementById('targetDisplay');
            const usedAttrs = currentSlots.flatMap(s => [s.main, s.sub]).filter(a => a !== "空缺");
            
            // 统计已满足的词条
            let tempUsed = [...usedAttrs];
            targetDiv.innerHTML = recommendedAttrs.map(attr => {
                const index = tempUsed.indexOf(attr);
                const isMet = index !== -1;
                if(isMet) tempUsed.splice(index, 1); // 匹配掉一个
                return `<div class="target-item ${isMet ? 'met' : ''}"><span>${attr}</span><span>${isMet ? '✔' : '✘'}</span></div>`;
            }).join('');

            // 渲染右侧插槽
            const container = document.getElementById('slotContainer');
            container.innerHTML = currentSlots.map((slot, i) => `
                <div class="slot-box">
                    <div class="slot-title">因子槽位 ${i + 1}</div>
                    <div class="select-group">
                        <select onchange="updateSlot(${i}, 'main', this.value)">
                            ${attrPool.map(a => `<option value="${a}" ${slot.main === a ? 'selected' : ''}>主：${a}</option>`).join('')}
                        </select>
                        <select onchange="updateSlot(${i}, 'sub', this.value)">
                            ${attrPool.map(a => `<option value="${a}" ${slot.sub === a ? 'selected' : ''}>副：${a}</option>`).join('')}
                        </select>
                    </div>
                </div>
            `).join('');
        }

        function updateSlot(index, type, value) {
            currentSlots[index][type] = value;
            render();
        }

        function resetAll() {
            currentSlots = Array.from({length: 12}, () => ({ main: "空缺", sub: "空缺" }));
            render();
        }

        render();
    </script>
</body>
</html>
